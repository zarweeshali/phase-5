# Dapr Kubernetes Secrets Store Component
# [Task]: T017
# [From]: specs/001-phase5-cloud/tasks.md Â§Phase 2
#
# Per Constitution Principle VII, secrets MUST be accessed via Dapr Secrets API.
# This component allows accessing Kubernetes Secrets through Dapr.

apiVersion: dapr.io/v1alpha1
kind: Component
metadata:
  name: kubernetes-secrets
  namespace: todo-app
spec:
  type: secretstores.kubernetes
  version: v1

---
# Usage example:
# GET http://localhost:3500/v1.0/secrets/kubernetes-secrets/openai-api-key
#
# This retrieves the 'openai-api-key' key from a Kubernetes Secret named 'openai-api-key'
# or from a secret specifically designed for Dapr access.
#
# To create a Kubernetes Secret:
# kubectl create secret generic database-credentials \
#   --from-literal=connectionString='postgresql://user:pass@host:5432/dbname' \
#   -n todo-app
#
# kubectl create secret generic kafka-credentials \
#   --from-literal=username='my-username' \
#   --from-literal=password='my-password' \
#   -n todo-app
