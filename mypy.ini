# mypy configuration for Phase V
# https://mypy.readthedocs.io/en/stable/config_file.html

[mypy]
# Python version
python_version = 3.11

# Strict mode
strict = True

# Disallow untyped definitions
disallow_untyped_defs = True
disallow_incomplete_defs = True

# Disallow untyped calls
disallow_untyped_calls = True

# Disallow untyped decorators
disallow_untyped_decorators = True

# No implicit optional
no_implicit_optional = True

# Warn about unused ignores
warn_unused_ignores = True

# Warn about returning any
warn_return_any = True

# Warn about unreachable code
warn_unreachable = True

# Exclude patterns
exclude = [
    "^tests/",
    "^\\.venv/",
]

# Per-module overrides
[[tool.mypy.overrides]]
module = "src.api.routes.*"
disallow_untyped_decorators = false

[[tool.mypy.overrides]]
module = "src.api.mcp.*"
disallow_untyped_decorators = false
